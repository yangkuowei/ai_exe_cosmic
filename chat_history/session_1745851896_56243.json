[
  {
    "role": "system",
    "content": "# 角色\n你是一名专业的业务分析师或需求分析师。\n\n# 任务\n根据我提供的软件需求文档，提取并生成“建设目标”和“建设必要性”。\n\n# 关键指令\n1.  **建设目标**: 请主要分析文档中的 **“需求解决方案”** 部分，提炼出本次需求要实现的具体功能、技术改造点或达成的效果，将其总结为清晰的建设目标列表。\n2.  **建设必要性**: 请主要分析文档中的 **“需求背景”** 部分，提炼出提出该需求的根本原因、要解决的问题、业务痛点或不这样做会带来的负面影响，将其总结为有说服力的建设必要性列表。\n\n# 输出格式\n请按照以下格式输出：\n\n```text\n一、 建设目标\n   1. [目标1]\n   2. [目标2]\n   ...\n二、 建设必要性\n   1. [必要性1]\n   2. [必要性2]\n   ...\n```\n"
  },
  {
    "role": "user",
    "content": "需求名称:\n关于支撑家庭业务在途工单自动撤单功能优化2.0的需求-营业侧\n\n需求背景:\n家庭业务在途工单自动撤单功能上线后，实际应用中发现部分场景不满足需求。主要问题包括：驳回工单连带撤单规则不完善、非现金支付方式撤单流程缺失、已销户用户撤单费用处理不规范、业务退订提醒短信干扰用户、欠费拆机进程撤单效率低下等。为解决这些问题，需对撤单功能进行多维度优化，确保工单撤单流程规范、费用处理准确、用户感知良好。\n\n需求解决方案:\n功能1：驳回工单连带撤单规则优化\n方案：\n- 取消对驳回工单状态的单独判断，统一处理融合订单中超过90天的在途工单\n- 配置取数SQL筛选进程参数，支持批量撤单操作\n- 同装工单与主工单同步撤单，确保业务一致性\n\n功能2：支付方式撤单规则扩展\n方案：\n- 新增现金支付撤单规则，支持余额转预存方式退费\n- 配置非现金支付方式白名单（支票、托收等），支持超90天工单撤单\n- 动态配置目标数据中原订单支付方式，实现灵活撤单\n\n功能3：已销户用户撤单费用处理\n方案：\n- 改造宽带撤单算费接口，支持已销户用户撤单费用计算\n- 新增撤单接口直接写入订单数据，简化操作流程\n- 费用发账管处理时，优先充值原账户余额，剩余部分计入公司收入科目\n\n功能4：业务退订短信屏蔽\n方案：\n- 在撤单进程执行时增加自动撤单标识\n- 判断标识后屏蔽提醒短信发送，仅保留必要通知\n\n功能5：欠费拆机进程撤单优化\n方案：\n- 欠费拆机时调用宽带撤单算费接口，计算退费金额\n- 退费金额优先抵扣用户欠费，结清后清理黑名单\n- 每日生成撤单工单文件，IOM定时批量处理撤单请求\n\n涉及系统: 订单中心,账管中心\ncosmic总行数: 98"
  },
  {
    "role": "assistant",
    "content": "```text\n一、 建设目标\n   1. 优化驳回工单连带撤单规则，取消对驳回工单状态的单独判断，统一处理融合订单中超过90天的在途工单，并支持批量撤单操作。\n   2. 扩展支付方式撤单规则，新增现金支付撤单规则，配置非现金支付方式白名单（如支票、托收等），并支持超90天工单撤单。\n   3. 改造已销户用户撤单费用处理流程，支持已销户用户撤单费用计算，简化操作流程，并优先充值原账户余额。\n   4. 屏蔽业务退订提醒短信，在撤单进程执行时增加自动撤单标识，仅保留必要通知。\n   5. 优化欠费拆机进程撤单，调用宽带撤单算费接口计算退费金额，优先抵扣用户欠费，结清后清理黑名单，并每日生成撤单工单文件进行批量处理。\n\n二、 建设必要性\n   1. 驳回工单连带撤单规则不完善导致部分工单无法及时撤单，影响业务处理效率和用户体验。\n   2. 缺乏非现金支付方式撤单流程，导致部分用户的撤单请求无法处理，影响业务的全面性和灵活性。\n   3. 已销户用户撤单费用处理不规范，可能导致费用计算错误或处理流程复杂，影响用户满意度和公司财务准确性。\n   4. 业务退订提醒短信频繁干扰用户，影响用户体验和对公司的信任度。\n   5. 欠费拆机进程撤单效率低下，导致用户欠费问题处理不及时，影响用户服务体验和公司运营效率。\n```"
  },
  {
    "role": "user",
    "content": "本轮生成内容通过了校验，你真是太棒了！"
  }
]